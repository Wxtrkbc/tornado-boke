<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="Python">
    <meta name="description" content="Python全站学习之路">
    <title>Melody &hearts; Blog</title>
    <link rel="icon" href="{{static_url('picture/icon.gif')}}">
    <link href="{{static_url('css/common.css')}}" type="text/css" rel="stylesheet">
    {% block css %} {% end %}
</head>
<body>
<div class="header">
    <div class="header_container">
        <div class="nav clearfix">
            <div class="logo float-l">
                <a href="/index/">Melody</a>
            </div>
            <div class="nav_content float-l">
                <a href="/index/">主页</a>
                <a href="/contents/">目录</a>
                <a href="/categories">分类</a>
                <a href="/about">关于</a>
            </div>
            {% if handler.session['is_login']=='True' %}
                <div>
                    <div class="account float-r">
                        <a href="javascript:void(0)">{{handler.session['user_info']['username']}}</a>
                        <a href="/logout">登出</a>
                    </div>
                </div>
            {% else %}
                <div class="account float-r">
                    <a href="/login">登陆</a>
                    <a href="/register">注册</a>
                </div>
            {% end %}
        </div>
    </div>
</div>
<div class="body">
    <div class="body_container clearfix">
         {% block body %}
         {% end %}
    </div>
    <div class="sidebar_toggle" click_flag="false">
        <div class="sidebar-toggle-line-wrap">
            <span class="sidebar-toggle-line sidebar-toggle-line-first" ></span>
            <span class="sidebar-toggle-line sidebar-toggle-line-middle" ></span>
            <span class="sidebar-toggle-line sidebar-toggle-line-last" ></span>
        </div>
    </div>
    <!--if handler.get_cookie('click_sidebar') -->
    <div class="sidebar hidden cookie">
        <div class="sidebar-inner">
            <div class="picture">
                <!--<img height="110" width="110" src="{{static_url('picture/a.png')}}" alt="Jason">-->
                <img height="110" width="110" src="http://images2015.cnblogs.com/blog/945045/201609/945045-20160905152653441-1446637428.png" alt="Melody">
                <p class="name" style="color: white;font-style: italic">Melody</p>
                <p>“ live beautifully, dream passionately, love completely ”</p>
            </div>
            <a href="/contents/">文章</a>
            <a href="/categories">分类</a>
            <a href="/about">关于</a>

            <div class="contact">
                <p>联系我</p>
                <img src="{{static_url('picture/icon_contact.png')}}" alt="contact" height="160" width="160">
            </div>


        </div>
    </div>
    <div class="retTop">

    </div>

</div>
<div class="footer">
    <div class="footer_container">
        <p>
            Posted by : &nbsp;D.Wang in 2016
            <br>
            Contact information :
            <a href="https://github.com/Wxtrkbc/tornado-boke">Github</a>
        </p>
    </div>
</div>
<script src="{{static_url('js/jquery-2.1.4.min.js')}}"></script>
{% block js %} {% end %}
<script>
    $(function () {
        window.onscroll = function () {
            var scrollHeight = $(window).scrollTop();
            if(scrollHeight<100){
                $(".retTop").addClass('hidden');
            }else {
                $(".retTop").removeClass('hidden')
            }
        };

        $(".retTop").click(function () {
                $(window).scrollTop(0);
            })
        })

</script>
<script>
    $(".sidebar_toggle").click(function () {
        if($(this).attr('click_flag') == 'false' ){
            $(".sidebar").removeClass('hidden');
            $(".sidebar-toggle-line-first").css({
                "width":"100%",
                'top':"5px",
                '-webkit-transform' : 'rotateZ(-45deg)',
                'left': '0'
            });
            $(".sidebar-toggle-line-middle").css({
                "opacity":'0'
            });
            $(".sidebar-toggle-line-last").css({
            "width":"100%",
            'top':"-5px",
            '-webkit-transform' : 'rotateZ(45deg)',
            'left': '0'
        });
            $(".body_container").css({
                'margin-right':'320px',
            });
            $('.header_container').css({
                'margin-right':'320px',
            });
            $(this).attr('click_flag','true');
//            document.cookie="click_sidebar=1"
//            $.cookie('click_sidebar',1)
        }else {
            $(".sidebar").addClass('hidden');
            $(".sidebar-toggle-line-first").css({
                "width":"100%",
                'top':"0px",
                '-webkit-transform' : 'rotateZ(0deg)',
                'left': '0'
            });
            $(".sidebar-toggle-line-middle").css({
                "opacity":'1'
            });
            $(".sidebar-toggle-line-last").css({
            "width":"100%",
            'top':"0px",
            '-webkit-transform' : 'rotateZ(0deg)',
            'left': '0'
        });
            $(".body_container").css({
                'margin':'0 auto',
            });
            $('.header_container').css({
                'margin':'0 auto',
            });
            $(this).attr('click_flag','false');
//            document.cookie="click_sidebar=0"
//            $.cookie('click_sidebar',0)
        }

    });

</script>
</body>
</html>